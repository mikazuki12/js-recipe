<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Quiz</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div>
      <h2 id="quiz-text"></h2>
      <img id="quiz-image" />
      <div>
        <button id="choice-1"></button>
        <button id="choice-2"></button>
        <button id="choice-3"></button>
      </div>
      <div id="feedback"></div>
      <button class="hidden" id="button">次の問題へ</button>
    </div>
    <script>
      const quizText = document.getElementById("quiz-text")
      const quizImage = document.getElementById("quiz-image")
      const choice1 = document.getElementById("choice-1")
      const choice2 = document.getElementById("choice-2")
      const choice3 = document.getElementById("choice-3")
      const feedback = document.getElementById("feedback")
      const button = document.getElementById("button")

      // クイズの内容
      let quizNumber = 0
      const quiz = [
        {
          text: "この星の名前は何でしょう？",
          image: "Ganymede.jpg",
          choices: [
            {
              text: "ゴリアテ",
              answer: false,
              feedback:
                "残念！ゴリアテは、旧約聖書に登場するダビデに石で殺される巨人だよ。",
            },
            {
              text: "ゼニガメ",
              answer: false,
              feedback:
                "残念！ゼニガメは、クサガメまたはニホンイシガメの幼体だよ。",
            },
            {
              text: "ガニメデ",
              answer: true,
              feedback: "正解！ガニメデは、木星の第三惑星だよ！",
            },
          ],
        },
        {
          text: "いま、何問目？",
          image: "Two.jpeg",
          choices: [
            {
              text: "１",
              answer: false,
              feedback: "残念！ひとつ少ないよ。",
            },
            {
              text: "２",
              answer: true,
              feedback: "正解！１でも３でもないよ！",
            },
            {
              text: "３",
              answer: false,
              feedback: "残念！ひとつ多いよ。",
            },
          ],
        },
        {
          text: "この城の名前は？",
          image: "maruoka.png",
          choices: [
            {
              text: "丸岡城",
              answer: true,
              feedback: "正解！どこからどうみても丸岡城だね。",
            },
            {
              text: "丸亀城",
              answer: false,
              feedback: "残念！どこからどうみても丸亀城ではないよ。",
            },
            {
              text: "丸子城",
              answer: false,
              feedback: "残念！どこからどうみても丸子城ではないよ。",
            },
          ],
        },
      ]

      // quiz を画面に表示する関数
      const reloadQuiz = function (quizNumber) {
        // 問題文を表示
        quizText.textContent = "Q. " + quiz[quizNumber].text
        // 画像を表示
        quizImage.src = "./images/" + quiz[quizNumber].image

        // 選択肢（ボタン）の中身を表示
        choice1.textContent = quiz[quizNumber].choices[0].text
        choice2.textContent = quiz[quizNumber].choices[1].text
        choice3.textContent = quiz[quizNumber].choices[2].text
      }

      // choiceNumber番目の選択肢を選択
      const choose = function (choiceNumber) {
        // フィードバックを表示
        feedback.textContent = quiz[quizNumber].choices[choiceNumber].feedback

        if (quiz[quizNumber].choices[choiceNumber].answer === true) {
          button.className = "button"
        }
      }

      choice1.onclick = function () {
        // 0 番目の選択肢を選択
        choose(0)
      }
      choice2.onclick = function () {
        // 1 番目の選択肢を選択
        choose(1)
      }
      choice3.onclick = function () {
        // 2 番目の選択肢を選択
        choose(2)
      }
      button.onclick = function () {
        quizNumber += 1
        reloadQuiz(quizNumber)
        button.className = "hidden"
      }

      // reloadQuiz関数 を実行して、クイズを画面に表示する
      reloadQuiz(quizNumber)
    </script>
  </body>
</html>
